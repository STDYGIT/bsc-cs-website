<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resource Version Control</title>
  <link rel="stylesheet" href="stylelastyr.css">
</head>
<body class="dark-theme">
  <header>
    <h1>Resource Version Control</h1>
  </header>
  <main>
    <section id="readme">
      <h2>README</h2>
      <p>Welcome to the Resource Version Control system. Here, you can access the resources for each semester's coursework in Excel format. Each card represents a different semester, with the latest updates and materials available for download.</p>
      <p>Click on the "Download Excel Sheet" button to obtain the latest versions of the resources. If you encounter any issues or have questions, please reach out to the department.</p>
    </section>
    <section id="resource-list">
      <h2>Available Resources</h2>
      <div class="card-container">
        <div class="card">
          <div class="card-header">
            <h3>Year 1 Sem-1 BSCHCS</h3>
          </div>
          <div class="card-body">
            <a href="https://docs.google.com/spreadsheets/d/1Dpj8PenBUFsf9Vmnu5oNQEcg_m-tQXh3kfRcOxN7w68/edit?usp=sharing" class="button" download>Open - Sheet</a>
            <div class="swipe-container">
              <div class="swipe-button" data-url="https://drive.google.com/uc?export=download&id=17jIwGh6aJLLq6EvpcesJtQSF2frNyFpU">
                <span class="swipe-text">Swipe to Download</span>
              </div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3>Year 1 Sem-2 BSCHCS</h3>
          </div>
          <div class="card-body">
            <a href="https://docs.google.com/spreadsheets/d/1aLZbU11toQHZoNIZCEA8RhFtwDkHUWFt6pd1grnDdUM/edit?usp=sharing" class="button" download>Open - Sheet</a>
            <div class="swipe-container">
              <div class="swipe-button" data-url="https://drive.google.com/uc?export=download&id=1gm9RkUCBIq8LjQumD6s8Miv4ROUkn6lk">
                <span class="swipe-text">Swipe to Download</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <footer>
    <p>&copy; 2024 Resource Version Control</p>
  </footer>

  
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const swipeButtons = document.querySelectorAll('.swipe-button');

      swipeButtons.forEach(button => {
        let startX = 0;
        let isSwiping = false;

        const handleStart = (e) => {
          e.preventDefault(); // Prevent text selection and other default behavior
          startX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
          isSwiping = true;
          button.style.transition = 'none'; // Disable transition during swipe
        };

        const handleMove = (e) => {
          if (!isSwiping) return;
          e.preventDefault(); // Prevent text selection and other default behavior
          const currentX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
          const moveX = currentX - startX;
          if (moveX > 0 && moveX < button.parentElement.offsetWidth - button.offsetWidth) {
            button.style.left = `${moveX}px`;
          }
        };

        const handleEnd = (e) => {
          e.preventDefault(); // Prevent text selection and other default behavior
          isSwiping = false;
          button.style.transition = 'left 0.3s ease'; // Re-enable transition after swipe
          const buttonWidth = button.offsetWidth;
          const containerWidth = button.parentElement.offsetWidth;
          if (parseInt(button.style.left, 10) > (containerWidth - buttonWidth) / 2) {
            button.style.left = '100%';
            button.classList.add('active');
            const url = button.getAttribute('data-url');
            const downloadingText = document.createElement('div');
            downloadingText.classList.add('downloading-text');
            downloadingText.textContent = 'Downloading...';
            button.parentElement.appendChild(downloadingText);

            setTimeout(() => {
              // Initiate file download
              window.location.href = url;

              // Reload the page after a short delay
              setTimeout(() => {
                location.reload();
              }, 5000); // Adjust the delay as needed
            }, 300);
          } else {
            button.style.left = '0';
            button.classList.remove('active');
          }
        };

        button.addEventListener('touchstart', handleStart);
        button.addEventListener('mousedown', handleStart);

        button.addEventListener('touchmove', handleMove);
        button.addEventListener('mousemove', handleMove);

        button.addEventListener('touchend', handleEnd);
        button.addEventListener('mouseup', handleEnd);
        button.addEventListener('mouseleave', handleEnd);
      });
    });
    document.getElementById('home-button').addEventListener('click', function() {
        if (window.location.pathname === '/index.html' || window.location.pathname === '/') {
            window.location.reload(); // Reloads the page if it's already the homepage
        } else {
            window.location.href = 'index.html'; // Navigates to the homepage if not already there
        }
    });

    
  </script>
</body>
</html>